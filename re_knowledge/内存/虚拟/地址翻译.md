<div style="float: left; width: 64%; padding: 1%;">

### 地址翻译

<ul>

#### 系统条件

<ul>

- TLB、data Cache存储器以字节为编址单位
- 虚拟地址14位
- 物理地址12位
- 页面大小为64B
- TLB为四路组相联，共有16个条目
- dataCache是物理寻址、直接映射的，行大小为4B，共有16组

</ul>

#### 地址结构分析

<ul>

##### 页面和偏移地址

<ul>

- 页内偏移地址：6位 (log₂(64B/1B))
- 虚拟页号：8位 (14-6)
- 物理页号：6位 (12-6)

</ul>

##### TLB结构

<ul>

- 组数：4组 (16/4)
- 组索引：2位 (log₂4)
- TLB标记：6位

</ul>

##### Cache结构

<ul>

- 块偏移：2位 (log₂4)
- 组索引：4位 (log₂16)
- 标记：6位

</ul>

![](https://cdn-mineru.openxlab.org.cn/model-mineru/prod/dbdeed3133ddcb8ed2cdd3bd10491b740e5e8cc58505a0c29ee261038ceb1e74.jpg)  

![](https://cdn-mineru.openxlab.org.cn/model-mineru/prod/a5f7319265719ba6e25e3ec3f135197d7c99f1dfa9209f5bcd36dad1ffb46b67.jpg)  

![](https://cdn-mineru.openxlab.org.cn/model-mineru/prod/7e154007b41dcd04b7e293781945dd249d0bd70f7887925b381c61eb3e4e83b7.jpg)  

</ul>

#### 地址访问过程分析

<ul>

##### 系统表项内容

<ul>

![](https://cdn-mineru.openxlab.org.cn/model-mineru/prod/892bee3a9810f38bf11e2b68d97aa52d2018def60493e098ec7d75760ce43c16.jpg)  

![](https://cdn-mineru.openxlab.org.cn/model-mineru/prod/52e61c9fd22d3430821b1c0a67807963a7773534f9c1ef10d7a1a349e61a025e.jpg)  

</ul>

##### 虚拟地址转换

<ul>

![](https://cdn-mineru.openxlab.org.cn/model-mineru/prod/1e7807571355ea09050aeba0b7ec561b9e3a7526b7b11926e613b2ddb448876c.jpg)  

</ul>

##### 地址0x03d4访问过程

<ul>

- TLB查找：
  - 组索引：3
  - TLB标记：0x03
  - 结果：命中，物理页号为0d
- 物理地址：0x354（001101010100）

</ul>

##### 地址0x00f1访问过程

<ul>

- TLB查找：
  - 组索引：3
  - TLB标记：0x00
  - 结果：未命中
- 页表查找：
  - 虚拟页号：0x03
  - 结果：页面在主存中，物理页号为02
- 物理地址：0x0b1（000010110001）

</ul>

##### 地址0x0229访问过程

<ul>

- TLB查找：
  - 组索引：0
  - TLB标记：0x02
  - 结果：未命中
- 页表查找：
  - 虚拟页号：0x08
  - 结果：页面不在主存中，产生缺页中断

</ul>

</ul>

#### Cache访问分析

<ul>

![](https://cdn-mineru.openxlab.org.cn/model-mineru/prod/1e8cd1180558d839295c7746012ed8552118b1d827ec9f3c7f9e18ff80a654d1.jpg)  

##### 地址0x354的Cache访问

<ul>

- Cache索引：5
- Cache标记：0x0d
- 结果：命中，块0
- 内容：36H

</ul>

##### 地址0x0b1的Cache访问

<ul>

- Cache索引：c
- Cache标记：0x02
- 结果：未命中，需要访问主存
- 访问位置：物理页号2，偏移0x31

</ul>

</ul>

</ul>

</ul>
</div>
<div style="float: right; width: 26%; padding: 1%;">

</div>
<div style="clear: both;"></div>
