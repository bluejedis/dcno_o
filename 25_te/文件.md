## 文件
- concept
    - unix
        - 特殊文件
            - ↑ all设备
    - 文件
        - 属性
            - stored in FCB的访问控制信息
            - ↑对file 访问' limit
                - 由 user权限 & file属性共同
        - 文件表项
            - [多p映射同一F](./内存管理.md#sectionlink)
    - 安全管理
        - 系统级
            - login&注册
    - 存储介质
        - >file组织形式 与 介质特性有关
        - 磁带
            - produce
                - 顺序file
        - 磁盘
            - >随机存取
            - 管理ways
                - 位图
                - 空闲盘块链表
            - 扇区
                - >分配以簇为单位
        - cd
            - >连续
    - 性能
        - 异步I/O对 I/O次数无影响
- - -
- **FCB**
    - >文件控制块
        - 即 文件**目录项**
            - 与 文件 一对一
                - include File 物理位置info
                    - 首+length
                - not include FCB 物理..

    - 集合
        - 目录文件
        - --
    - inode
        - >描述info 从FCB中分离
            - better for 查找
        - 内存..
            - compared to磁盘
            - 特有
                - 访问计数值
- 操作
    - base操作
        - open
            - >copy FCB to内存
            - open()
                - 调用的参数
                    - include 需要打开的文件' 文件名
        - close
            - >FCB to磁盘
        - read
            - 调用参数 
                - no文件名
                    - ↑先use open
- 文件保护
    - type
        - ACL
            - >r w x
        - 精简控制
                ->o g o
        - 口令
    - 二进制
        - >1个file：五种权限、4类用户 可能同时拥有
            - 考虑max = 4*5=20
- - -
-  structure
    - 逻辑..(1 2 3
        - >user组织数据' 结构形式
            - for 方便 用户
        - 无结构file(流式
        - 有..(记录式
            - type：
                - 长
                    - 定长
                    - 变长
                - 序
                    - 顺序文件
                    - 索引..
                        - 组成：
                            - 逻辑文件
                            - 索引表
                                - ↑存取 先查
                                - 索引项
                                    - include
                                        - length + 起始**位置**in 逻辑文件
                                        - eg. store 磁盘存放位置
                    - 索引顺序..
                        - 转换
                            - 顺序file→索引顺序file
                                - 查找次数
                                    - = 组间查找次数 + 组内查找次数
                                        - 分组
                                            -  $\sqrt {顺序查找记录}$  /2
                                        - 组内
                                            - ..
                                            - ↑记录：
                                                - 存取操作'基本单位
                                                    - length可不等
        - --
    - 物理..(3
        - >组织ways由os决定
        - 按分配ways
            - 连续(顺序)
                - >随机存取分配
                    - ↑可跳转读
                - >外部piece
                - 操作
                    - 文件增加1项
                        - 磁盘I/O次数最多
                            - ↑之后每一项都需后移
                    - 插入1项
                        - ..
                            - ↑之前...前移
                                - 至少 读k次 + 写k次 +1新写
            - 链接
                - >not支持..
                - type
                    - 隐式
                        - ↑default
                        - **成组分解**
                            - 1个逻辑记录 不能拆分到2盘块
                                - ↑ 盘块最多存放记录条数
                                    - ⌈盘块size/逻辑记录size⌉ 
                            - count：
                                - 启动磁盘次数
                                    - 修改次数+1写回
                                        - ↑修改次数
                                            - = ⌈记录条数/盘块条数⌉ 
                                - 插入记录needed读写次数
                                    - >隐式 顺序读
                                    - 2写
                                        - new记录 写入空闲
                                        - 上相邻记录 指向new记录
                    - 显式
                ---
            -  索引
                - >支持随机..
                    - also can变长
                        - discern：
                            - 内存分配、磁盘分配
                - 索引表
                    - 插入
                        - cost小
                        - ↑only change内存，无IO
                    - 索引块
                        - ↑ 一级间接指针can指向1个
                            - ？37题1024怎么来的(left
                                
                - type：
                    - 单级索引
                        - no need 磁盘I/O的情况
                            - 单级索引+last数据块 insert 文件头部
                            - ↑FCB、索引块 已驻留内存
                    - 两级..
                        - count：
                            - max length
                                - 每级索引项数^2*盘块size
                                    - ↑每级索引项数
                                        - = 盘块size/块号size
                                    - ↑合并后通式
                                        - (盘块size)^3/(块号size)^2
                            - add索引指针 
                                - 求max length
                                    - 42题类似，求单个文件最大长度(left
                                    - --
                                    - 单个文件长度
                                        - 影响因素
                                            - no
                                                - **索引node总数**
                                                    - =总文件数
                                                        - eg.4B store 索引节点号
                                                            - ↑占4B位
                                                                - total =$2^{32}$
                                    - --
                                - 磁盘块个数
                                    - ？48
            - 散列
---
索引
多级←结构怎样？
37 42 48(left
求解思路

文件管理侧重于磁盘？

---
## 目录

## 文件系统
