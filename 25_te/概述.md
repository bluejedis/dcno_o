# concept：

- 最基本特征
    - 并 共
- 并发：同一 时间间隔(use time same

---
- 命令接口&==程序==..（system调用
    - 命令：脱机、联..
    - ..调用：请求system服务 ← 见"程序"
 ，则select
---
- 单cpu
    - 进程 can't并行
- 多处理器 can

# 发展历程
- 基本类型：
    - 批 分 实
        - 批
            - 无交互_（main缺点）_ ；不封闭 不顺序
            - need中断
                - make 程序(io设备etc)与cpu并行
                    - cpu、io设备 ←利用率高
                        - 吞吐量big.
            - process↑，←竞争激烈，not cpu利用率high
                - 过↑，*死锁*
        - 分
            - 交互 时间片 多user
            - goal：快速响应
        - 实
            - 不超：规定t
---
**2计算**：
>draw pic：横t/s 纵process or program AB
- cpu利用率
    - $u=\frac{t_{process中调用cpu}}{t_{运行总时}}$
    - 2process
        - 多 ← 1个用完另1用
            - judge process whether等待？_（开头wait_ 也算）
        - 单
---
---
# 运行环境
- os 
    - 轮转时间片调度← no need to pre-order
    - have to 提供__功能
        - ==中断==
            - "访管" instruction
            - user态→核心..  ← 系统调用++接口++
                - > 传参→trap→service程序，return
                - 陷入(trap)中断
                    - after that： 进入中断处理' 程序 belongs to：OS..
                - whole转换 _(→内核)_ 由__完成
                    - **硬件**
            - --
            - 引起中断：
                - 整数除以0(belongs to异常
                    - 异常：cpu内部发生
                - 缺页异常
           ---
             - data**保存**：
                - 断点（PC，PSW） ← 中断隐指令auto
                - 通用R ← OS
                    - OS内核：中断service、..向量表、..屏蔽字
                        - 中断向量表：ds：数组
                            - type号+中断处理program入口地址
                            - be created in **OS初始化**（before自检）
                - TLB cache← 硬件
             


- 内核/核心态
    - 特权指令
        - IO指令
            - ↑through IO通道（special处理器）
            - include文件IO etc
        - visit程序状态
        - 存取special R
    - 3key
        - clock,中断,原语
    - R清"0"
    - --
    - system调用 **执行** / **被调用过程**
        - 保存PSW PC值 ← 一般.. only PC
            - ↑中断                ↑子程序调用
        - different 系统，调用接口different
    - run **all** Instruction except "访管"
    - can't 进程切换
    ---
- 用户态
    - can执行
        - change 内存单元’值
        - 命令解释
        - "访管"
        - 
        - system调用++命令++
    - 库function
        - 函数调用
    - only 非特
---
- 用到 系统调用’situation
    - 中断
    - 资源访问、PT创建执行终止、system信息
---
---
# 结构

- structure
    - 分层式
        - 便于调试
            - 单项依赖
                - 不灵活，穿过多层add开销
            - 不influence other层
        - 最显著drawback
            - 设计困难_（复杂）_
    - 模块化
        - all in 内核
            - 内核外不影响；内..影响..
        - **微**/宏内核
            - 微
                - 4feature：
                    - core小
                    - c/s模式
                    - 机制 策略，分离
                    - 面向对象
                - 系统调用related操作等, in微内核
                    - (include中断 trap、进程etc
                - 适用于 分布式系统环境
                - --
                - often 用户态←→核心.. ←开销大，**No**高效
                    - divide核心and other服务
                        - ↑通信
                        - 内核中 服务越少越稳定
            - --
            - windows use两者
---
# 引导

- 引导program 2types：
    - 引导扇区：启动管理器 （引导OS
        - store in 硬盘
    - 自举程序（BIOS组成部分
        - 启动具体设备
        - store in Rom

- 硬件自检前
    - cpu加电→ JMP指令to BIOS
    - →登记..中断程序入口地址
    
- OS最终被加载到
    - RAM
---

- only内核常驻 内存
    - others需要时才调用

---
# virtual
- VMM
    - code量 ＜ 完整os..
        
